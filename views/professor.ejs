<!doctype html>
<html>
<head>
	<title>Scheduler - <%=professor.name%></title>
	<link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.0.2/css/bootstrap.min.css">
	<link rel="stylesheet" href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.min.css">
	<style>
		body 		{ padding-top:10px; word-wrap:break-word; }
	</style>
	<script type="text/javascript">
		function upvote(comment) {
			console.log('upvote');
			post('/upvote-comment/'+comment,{id:comment});
		}
		
		function post(path, params, method) {
		    method = method || "post"; // Set method to post by default if not specified.

		    var form = document.createElement("form");
		    form.setAttribute("method", method);
		    form.setAttribute("action", path);

		    for(var key in params) {
		        if(params.hasOwnProperty(key)) {
		            var hiddenField = document.createElement("input");
		            hiddenField.setAttribute("type", "hidden");
		            hiddenField.setAttribute("name", key);
		            hiddenField.setAttribute("value", params[key]);

		            form.appendChild(hiddenField);
		         }
		    }

		    document.body.appendChild(form);
		    form.submit();
		}
	</script>

</head>
<body>
<div class="container">

	<div class="page-header text-center">
		<h1>Professor details</h1>
		<a href="/logout" class="btn btn-default btn-sm">Logout</a>
	</div>

	<div class="row">

		<!-- LOCAL INFORMATION -->
		
			<div class="well">
				<p><a href="/school/<%=school._id%>">Back to <%=school.name%></a></p>

				<h3></span>Professor details</h3>
					<p>
						<strong>Name</strong>: <%= professor.name %><br>
						<strong>Department</strong>: <%= professor.department %><br>
					</p>
			</div>

			<div class="well">
				<h3>Comments</h3>

					<p>
						<% for(var index in comments) {%>
							<%=comments[index].helpfulness%> <%=comments[index].comment%> 
							<input input id="upvote" type="button" value="Upvote" onclick="upvote('<%=comments[index]._id%>');" /><br>
						<%}%>
					</p>

			</div>

			<div class="well">
				<h3>Add a comment</h3>

					<form action="/add-professor-comment/<%=professor._id%>" method="post">
						<div class="form-group">
							<label>Comment:</label>
							<textarea rows="4" cols="50" class="form-control" name="comment"></textarea>
						</div>

						<button type="submit" class="btn btn-warning btn-lg">Add comment</button>
					</form>
			</div>
		

	</div>

</div>
</body>
</html>
